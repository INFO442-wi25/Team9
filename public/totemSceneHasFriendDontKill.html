<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Totem Scene</title>
    <link rel="stylesheet" href="/stylesheets/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Jersey+10&display=swap" rel="stylesheet">
</head>

<body class="backgroundJungle">
    <div class="dialogue-box">
        <p id="dialogue"></p>
        <button id="next-btn" onclick="nextDialogue()">Next</button>
    </div>

    <img id="friendAirport-image" src="/images/airportFriend.png" alt="Friend at airport" class="characterLeftSide">

    <script>
        let hasFriend = sessionStorage.getItem('hasFriend') === 'true'; // Check if Carla is with Ale

        let dialoguesWithCarlaDontKill = [
            "He stands up and walks over back to Carla.",
            "Ale: I got the totem.",
            "She gives him a smirk he desperately wants to wipe off her face.",
            "Ale: What?",
            "Carla: Didn’t know you were such a big softie.",
            "Ale: I don’t know what you're talking about. Let's just go. We can find food elsewhere."
        ];

        // document.getElementById('friendAirport-image').style.display = 'none';
    
        let dialogues = dialoguesWithCarlaDontKill;
        let currentDialogue = 0;
    
        // Set the initial dialogue
        document.getElementById('dialogue').textContent = dialogues[currentDialogue];
        
        function nextDialogue() {
            if (currentDialogue < dialogues.length - 1) {
                currentDialogue++;
                document.getElementById('dialogue').textContent = dialogues[currentDialogue];

                // now show friend
                if (currentDialogue === 0) {
                    if (hasFriend === true) {
                        document.getElementById('friendAirport-image').style.display = 'block';
                    }
                }
            } else {
                document.getElementById('dialogue').textContent = "";
                document.getElementById('next-btn').style.display = 'none'; // Hide next button when finished
                window.location.href = 'trapScene.html';
            }
        }

        function showQuestionPrompt() {
            document.getElementById('question-container').style.display = 'block';
        }
    </script>

</body>

</html>