<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>City Scene</title>
    <link rel="stylesheet" href="/stylesheets/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Jersey+10&display=swap" rel="stylesheet">
</head>

<body class="backgroundCity">
    <div class="dialogue-box">
        <p id="dialogue"></p>
        <button id="next-btn" onclick="nextDialogue()">Next</button>
    </div>

    <script>
        let hasFriend = sessionStorage.getItem('hasFriend') === 'true'; // Check if Carla is with Ale

        let dialoguesWithCarla = [
            "[Lands in Ecuador]",
            "Ale steps out of the airport, the humid Ecuadorian air hitting him immediately.",
            "Carla: Welcome to Quito! It’s a beautiful city, full of history. Where do you want to go first?",
            "Ale: I was thinking of checking out some of the historical sites first. Maybe someone around here knows more about the legend.",
            "Carla: That’s a great idea! I actually know a professor at a local university who has studied the Llanganates.",
            "Ale: Really? That could be useful!",
            "Carla: Let’s head to the historic center first. There are old Spanish colonial buildings and plenty of people who might have information.",
            "They begin walking through the city streets, the sounds of Quito surrounding them.",
        ];

        let dialoguesAlone = [
            "Ale steps out of the airport, the humid Ecuadorian air hitting him immediately.",
            "He looks around, unsure of where to go first.",
            "With no clear plan, he decides to explore the city on foot, hoping to come across something useful.",
            "The historic center seems like a good place to start. Maybe someone there knows something about the legend.",
            "He begins walking, the sounds of Quito surrounding him.",
        ];

        let dialogues = hasFriend ? dialoguesWithCarla : dialoguesAlone;
        let currentDialogue = 0;

        // Set the initial dialogue
        document.getElementById('dialogue').textContent = dialogues[currentDialogue];

        function nextDialogue() {
            if (currentDialogue < dialogues.length - 1) {
                currentDialogue++;
                document.getElementById('dialogue').textContent = dialogues[currentDialogue];
            } else {
                document.getElementById('dialogue').textContent = "";
                document.getElementById('next-btn').style.display = 'none'; // Hide next button when finished

                window.location.href = 'exploreCity.html';
            }
        }
    </script>
</body>

</html>