<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exploring the City</title>
    <link rel="stylesheet" href="/stylesheets/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Jersey+10&display=swap" rel="stylesheet">
</head>

<body class="backgroundExplore">
    <div class="dialogue-box">
        <p id="dialogue"></p>
        <button id="next-btn" onclick="nextDialogue()">Next</button>
    </div>

    <script>
        let hasFriend = sessionStorage.getItem('hasFriend') === 'true';

        let dialoguesWithCarla = [
            "They navigate through Quito, passing colonial buildings, street vendors, and busy intersections.",
            "After a short bus ride, they arrive at the university, walking through its historic campus toward the history department.",
            "Carla knocks on a wooden door marked *Dr. Santiago Perez – History & Archaeology*.",
            "Professor Santiago: Come in!",
            "His office is packed with books, old maps, and artifacts. A middle-aged man with glasses looks up from his desk.",
            "Carla: Professor Santiago! It’s been a while.",
            "Professor Santiago: Carla! What a surprise. And who’s this?",
            "Carla: This is Ale. He’s on a journey to find the Treasure of the Llanganates.",
            "Professor Santiago leans back, studying Ale with curiosity.",
            "Professor Santiago: That’s quite the ambition. Do you even know what you're up against?",
            "Ale: I know it won’t be easy. But I’m prepared to try.",
            "Professor Santiago: Hah! Good. Most people just talk about it. Few actually go looking.",
            "He reaches into a drawer and pulls out a faded map.",
            "Professor Santiago: This is the closest thing we have to a guide. The Llanganates are unpredictable—you’ll need more than luck.",
            "Carla: This is incredible!",
            "Professor Santiago: I hope you realize the risks. But if you're serious, I’ll come with you.",
            "Ale and Carla exchange looks—this is turning into something much bigger than they expected.",
            "Professor Santiago: Alright then. We leave tomorrow at sunrise."
        ];

        let dialoguesAlone = [
            "Ale arrives at the Central University of Ecuador, a sense of anticipation rising as they make their way toward the history department.",
            "At the wooden door marked *Dr. Santiago Perez – History & Archaeology*, Ale knocks before stepping inside.",
            "Professor Santiago: Come in! What brings you here?",
            "Ale: I’ve heard you know something about the Treasure of the Llanganates. I’m looking for answers.",
            "Professor Santiago looks up, intrigued by the unexpected visitor.",
            "Professor Santiago: The Llanganates, huh? That’s a tale that’s been passed down through generations. You know it's no easy journey, right?",
            "Ale: I know it’s risky, but I’m willing to try. I need guidance, and I’ve heard you’re the expert.",
            "Professor Santiago: Hah, I like your determination. Well, I can help you with what I know, but it’s not a journey you should take alone. I’ve always wanted to discover it myself.",
            "Ale: You’d come with me?",
            "Professor Santiago: Why not? I’ve studied the legend, but I’ve never actually gone to find the treasure. It’ll be a good adventure.",
            "Ale smiles, feeling reassured. This is the moment their journey truly begins.",
            "Professor Santiago: Let’s pack up and get ready. We’ll head out tomorrow morning.",
            "Ale: I’m ready. Let’s go find the Llanganates."
        ];

        let dialogues = hasFriend ? dialoguesWithCarla : dialoguesAlone;
        let currentDialogue = 0;
        document.getElementById('dialogue').textContent = dialogues[currentDialogue];

        function nextDialogue() {
            if (currentDialogue < dialogues.length - 1) {
                currentDialogue++;
                document.getElementById('dialogue').textContent = dialogues[currentDialogue];
            } else {
                if (hasFriend) {
                    sessionStorage.setItem('hasProfessor', 'true'); // Save professor as a companion
                }
                window.location.href = 'journeyStart.html'; // Move to the next scene
            }
        }
    </script>
</body>
</html>